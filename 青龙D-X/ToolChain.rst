数据链路
======================================================================================================

项目输入
------------------------------------------------------------------------------------------------

* 从技术架构维度整体考虑和分析中间件的公司资产复用，不但要完成好项目，也要形成技术资产的积累，

更要考虑后续更高效率工程化,用最小的团队规模可以支撑产品的复用和Copy。 - 责任人:杜强,胡骏,高亮L4,倪祥 9/28

* X9U系统功能安全需要慎重决策,QNX>Linux是业界共识,不要为产品留下软肋。

J5产品是睿驰在域控领域进攻的利器,要打造进攻型产品。- 责任人：杜强,胡骏,高L4,倪祥 持续跟踪


系统方案
------------------------------------------------------------------------------------------------
系统方案包括数据链路架构、功能架构、总线通讯拓扑等


数据链路架构
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
数据链路包括车端、云端、开发端、台架和车辆端、

.. image:: /images/数据链路架构.png




功能架构
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
功能架构包括感知融合、地图定位、规划控制、系统车辆等。

.. image:: /images/功能架构.png


功能分布

.. image:: /images/功能分布.png

感知

.. image:: /images/感知.png

高精地图定位

.. image:: /images/高精地图1.png
.. image:: /images/高精地图2.png
.. image:: /images/高精地图3.png

规划决策

.. image:: /images/规划决策1.png
.. image:: /images/规划决策2.png
.. image:: /images/规划决策3.png


控制

.. image:: /images/控制.png

系统监管

.. image:: /images/系统监管.png

端到端

.. image:: /images/端到端延时.png


总线通讯拓扑
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
拓扑包括DDS、CAN、XCP等通讯协议

.. image:: /images/总线通讯拓扑.png  

.. note:: 
    * 2核 BPU AI引擎,高性能等效算力128 TOPS
    * 八核 Arm® Cortex® -A55 CPU集群
    * CV引擎,双核DSP,双核ISP,强力Codec

开发调试
------------------------------------------------------------------------------------------------

XCP协议
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. image:: /images/XCP主从节点.png
.. image:: /images/XCP_Drive.png

车端
------------------------------------------------------------------------------------------------

ROS RVIZ Gazebo
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. image:: /images/ROS_RVIZ.png
.. image:: /images/ROS_RVIZ_V.png
.. image:: /images/ROS_Gazebo.png


云端
------------------------------------------------------------------------------------------------

A7 数据中心
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

泊车环视激光雷达真值
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
必要性论证


数据链路平台开发责任划分
------------------------------------------------------------------------------------------------

*  数据链路系统是一套工具集，既可以给开发用，也可以给测试用；开发要想好怎么用，测试也要想好怎么用； 
*  尽快搜集 ``规控`` 类需求: 开发要提出XCP对上位机显示的要求, 包括具体的规控参数; --> 李锐 9.30
*  优先考虑 ``规控`` LDW,LKA,AEB等ADAS功能 **虚警** 类测试场景,即长距离测试环境下(至少1000米),系统应不发出报警，并记录系统的任何报警情况； --> 李锐 9.30
*  初步调研 **融合**, **定位**, **诊断**, **高精定位** 等需求；--> TBD
*  尽快搜集 ``泊车建图``, ``泊车定位`` 的测试需求；    --> 侯殿龙  10.15
    * 传感器数据包括:
       #. 前广角相机图像;
       #. 4路环视相机图像;
       #. 车辆报文(包括轮速脉冲和车辆三轴IMU数据)
       #. RTK数据
       #. IMU数据,5个毫米波雷达的点云
    
*  ``感知`` 类需求要考虑地平线J5的视频采集方案, 要与地平线方案保持一致, 方便以后观察内部参数 ;  --> TBD
*  快速建立 ``ROS可视化功能``;  --> 高亮L4  持续进行,与规控需求打和
*  探索ROS集成XCP驱动的方案, 需要NeuSAR支持, 兼容CANape;  --> Neusar   
*  软件架构接口和数据流设计，确保与平台工具适配；  -->高学新   持续进行
*  PSM制定技术平台的开发计划; 明确工作的内容,范围,拆解等; 制定ADS域控并行产品交汇点计划,确保交汇点之后平台工具可用； -->高亮 项目待确认
