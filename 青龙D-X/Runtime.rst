技术例会
======================================================================================================

2022-9-27
------------------------------------------------------------------------------------------------

.. image:: /images/技术风险.png


1 系统功能 / 感知融合 / 算力
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. image:: /images/J5算力不足.png
.. image:: /images/SA10.png

* 算力匹配应对方案  
   * 场景识别
      * ODD 范围  -> 系统工程师提要求 
         * 通过ODD的定义,严格限制11V同时运行的工况
         * 每个具体功能都有详细的ODD定义
         * 建立睿驰企业标准，列出极限工况的标准定义
         * 不能超过岚图行泊切换时间(当前行泊切换1.1秒)
         * 行泊切换条件(车速、地理围栏、交通拥堵状态...)         
         * 系统定义DNP目标定位
      * 所有软件单元设计对算力节约的应对方案  -> 架构师 
         * 详细描述架构方案逻辑 
         * 给出算力验证报告 
         * 架构算力分配   -> 行车：地平线； 泊车：感知 刘力锋 
      * ADAS 功能评估算力
         * AEB等17个功能
   * 降频配置 
      * 行车向泊车切换时，降低输出频率 33ms -> 50ms

.. caution:: 
   #. 系统团队进行ODD范围定义 -> 闫瑞明 
   #. 架构师团队评估所有软件单元算力 -> 高学新 
   #. 项目组推进与地平线打和(组织会议) -> 郝丽娟 截止时间 9月30日

    

2 架构 / 平台 / Space.OS
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. image:: /images/技术风险9操作系统功能安全.png
.. image:: /images/vwos2.png
.. image:: /images/QNX虚拟化.png
.. image:: /images/OS配置.png

* HAL & OS Framework架构方案(硬件和操作系统抽象层)
   #. 整体架构设计,包括梳理系统需求,整理功能模块,以及划定各子系统(Framework / HAL / Autosar AP / ... )覆盖范围。
   #. 硬件和操作系统抽象层内、外部接口和集成方案设计。
   #. 相关接口层和中间件开发,同时设计开发模拟测试工具,包括测试虚拟机,DEMO应用等。
   #. 多操作系统可配置编译设计，包括系统功能组件可配置选择，可通过配置选择操作系统等。

* QNX 适配工作：
   #. 梳理系统需求,明确需要适配和调试的硬件驱动,明确哪些需要自己开发,哪些需要QNX或芯驰支持。
   #. 在目标板上进行硬件驱动调试。
   #. 适配统一硬件和操作系统抽象层接口,并使用DEMO应用验证。

.. note:: 
   #. 软件能力中心负责硬件抽象层和系统框架设计
   #. 不影响主线项目进度,ADAS团队要配合软件能力中心梳理系统需求
   #. 项目侧推进芯驰和QNX开发BSP
   #. 软件能力中心和NeuSAR团队综合考虑平台化设计方案(QNX + BSP + NeuSAR AP)   -> 软件能力中心 + Neusar
   #. 制定计划分两步走
   
      * 将QNX在X9U上跑起来,上层POSIX接口都调通;验证LDW端到端延时的场景;
      * 架构识别出属于底层Framework的功能,按照BYD项目优先级,排出渐进的迁移融合方案;确定项目切换时间点，时间点尽量靠前;
  
   #. 工作量识别准确，排出任务表,匹配上资源,进而排项目周期；
   #. 架构提供X9U上QNX系统所有要适配的BSP,硬件和驱动功能列表；  ->架构 高学新
   #. 梳理关联模块，但不会有很大变化；
   #. 收益评估
   #. 采用 QNX 基础版(QM) , 下一代采用 QNX for Safety
   #. 立刻开始评估功能安全版本的工作量;
   

3 验证 / 可视化 / 工具链
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. image:: /images/waypoint.png

#. 制定标准数据存储格式,应用ros定制开发的回放及可视化功能
#. 域控及pc上开发一个协议转化服务,与可视化工具配合收集回放各个ECU的消息用于开发及调试

* ROS可视化
   * 路航点 Waypoint RVIZ显示
   * 融合参数RVIZ显示
   * 车控参数RVIZ显示
   * 传感器输入     
   * 感知bounding box  

.. note:: 
   #. L4团队为BYD项目提供可视化工具; -> 高亮
   #. 关于传感输入数据回灌方案,参考J5感知数据采集方案,制定平台统一方案（摄像头、毫米波雷达、激光雷达等）;
   #. 支持SLAM调试参数;
   #. 架构支持ROS接口,提供元数据;  -> 架构 高学新
   #. 采用ROS2+DDS框架, 将路采数据标准化，制定测试用例; -> 高亮
   #. 将会支持全平台数据可视化(融合、定位、感知等),支持开发人员远程调试; -> 高亮
   #. 参考借鉴测试团队的现有方案, 实地调研岚图现有工具链方案；     ->风控 倪祥


下半场可选参加
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. image:: /images/技术风险4Neusar.png

.. note:: 
   十一之后测试

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. image:: /images/技术风险5以太网.png

.. note:: 
   UDP已经调通,风险降低,取消关注

+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

.. image:: /images/技术风险6PCIE.png

.. note:: 
   金字塔模型传输包大小230K,带宽783.5MB/s,无丢帧。风险降低，取消关注。


+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++


.. image:: /images/技术风险7信号转发延迟.png

+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

.. image:: /images/域控IP_1.png

.. note:: 
   多IP网络结构风险,采用L3层路由转发方案,推进客户确认。无风险，取消关注。


  
         



