
操作系统功能安全
===================================================


X9U AB
-------------------------------------------

领导指示
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

* QNX开发和Linux开发团队要分开进行;
* 按照功能安全设定,把功能安全有关的部署到QNX中, 更安全一些, 比单独Linux 安全;最好AB面都是QNX系统;
* 如果其它供应商用TDA4+QNX,那一定比目前单Linux的方案更安全;有竞争对手就会很麻烦，这是方案差距；
* 大疆正在做TDA4+QNX移植,大疆已经充分认识到QNX在商业上的杀伤力;花钱就可以升级为QNX safety,设计到成本;百度用Linux;
* QNX在X9U B面 AP2部署一个QNX(杜), 有技术上博弈的机会,QNX冗余备份,安全方案可以说的通；
* 全QNX方案要论证一下; 开发上没有太大区别,有应用开发区别（管控），配置有区别；根据成本区别配置；
* 如果只有Linux,用户还同意增加成本,那目前单Linux方案无解;
* QNX提问,QM ASIL2区别;如何部署X9U等;
* 商业策略,不要因为Linux方便而留下软肋;如果被商业竞争对手利用则会发生重大损失；
* 功能安全,支持AUTOSAR是商业上的重要杀手;
* 风险要深挖，稳定性,接口定义，要重视问题的提出(切换时间8~10秒)，系统架构，平台化开发,关键技术升级，珍惜上升迭代机会;


参考方案
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
J5 Enhanced Linux

.. image:: /images/J5_Linux.png

QNX vs Linux

.. image:: /images/qnxLinux.png

QNX特征

* QNX(Quick UNIX) 是类UNIX系统, **微内核** ;
* QNX中的每个进程都是 **隔离** 的:驱动、栈、OS服务、应用;
* 所有进程都可以应用相同API:POSIX PSE54 ,C++11/14/17,简化嵌入式开发流程;
*  **进程间通信** 是QNX内核的核心功能;
* 用户可以通过开发定制化的应用程序增强系统功能；
* 用户程序与系统程序通过进程间通信进行协作构成一个有机的整体；
* 操作系统以一种 **扁平化** 的结构组织；
* 操作系统通过路径管理器等系统服务支持用户服务的 **动态加入** ;
  
Linux特征

* 宏内核，分层架构；
* 支持对称多处理(SMP)机制;
* 内核可以抢占，需要配置抢占式内核调度器(Preempt RT Scheduling);
* 成熟的生态环境，尤其是图形操作类库；
* 支持动态加载内核模块。


